const translations = {
  en: {
    "nav-features": "Features",
    "nav-how": "How it works",
    "nav-download": "Download",
    "hero-badge": "Free & Open Source",
    "hero-title": "Never forget your achievements again",
    "hero-subtitle":
      "MindReel is a free desktop app that automatically logs your work with gentle hourly reminders and generates AI-powered weekly summaries. Perfect for standups, reviews, and career tracking.",
    "hero-feature1": "Automatic logging",
    "hero-feature2": "AI summaries",
    "hero-feature3": "100% local data",
    "btn-download": "Download for macOS",
    "btn-github": "View on GitHub",
    "mockup-overlay": "Main app screenshot placeholder",
    "features-title": "Everything you need to track your wins",
    "features-subtitle": "Simple, powerful features that help you remember and showcase your work",
    "feature1-title": "Automatic hourly popups",
    "feature1-text":
      'Gentle reminders every hour ask "What are you working on?" Quick to answer with "Same as before" option.',
    "feature1-preview": "Popup window screenshot",
    "feature2-title": "AI-powered summaries",
    "feature2-text":
      "Weekly AI summaries analyze your work and create professional highlights perfect for meetings and reviews.",
    "feature2-preview": "Weekly summary card",
    "feature3-title": "Local & private",
    "feature3-text":
      "Your data stays on your machine. Only sent to OpenRouter API when you request a summary.",
    "feature3-preview": "Privacy architecture diagram",
    "feature4-title": "Organized history",
    "feature4-text":
      "View all your entries organized by day. Edit, delete, or search through your work history anytime.",
    "feature4-preview": "History view screenshot",
    "feature5-title": "Free forever",
    "feature5-text":
      "100% free and open source. No subscriptions, no ads, no hidden costs. MIT licensed.",
    "feature5-preview": "Open source badges",
    "feature6-title": "For everyone",
    "feature6-text":
      "Perfect for developers, designers, managers, students, and anyone who wants to track their progress.",
    "feature6-preview": "User personas",
    "how-title": "Simple workflow, powerful results",
    "how-subtitle": "Start logging your work in minutes",
    "step1-title": "Answer the popup",
    "step1-text":
      'Every hour, a small popup asks what you\'re working on. Type your task or click "Same as before" to continue.',
    "step2-title": "Build your history",
    "step2-text":
      "All entries are automatically saved and organized by day in your local database.",
    "step3-title": "Get AI summaries",
    "step3-text": "Generate weekly summaries that highlight your key achievements and progress.",
    "download-title": "Ready to track your wins?",
    "download-subtitle":
      "Download MindReel for macOS and start building your achievement history today.",
    "btn-download-main": "Download for macOS",
    "download-info1": "macOS 10.15+",
    "download-info2": "Free forever",
    "download-info3": "Open source",
    "footer-text": "Your work. Automatically documented.",
    "footer-copyright": "© 2025 MindReel. Open source software under MIT license.",
  },
  pl: {
    "nav-features": "Funkcje",
    "nav-how": "Jak działa",
    "nav-download": "Pobierz",
    "hero-badge": "Darmowe i Open Source",
    "hero-title": "Nigdy nie zapomnij swoich osiągnięć",
    "hero-subtitle":
      "MindReel to darmowa aplikacja na komputer, która automatycznie rejestruje Twoją pracę dzięki delikatnym przypomnieniom co godzinę i generuje cotygodniowe podsumowania AI. Idealna na standupy, oceny i śledzenie kariery.",
    "hero-feature1": "Automatyczne rejestrowanie",
    "hero-feature2": "Podsumowania AI",
    "hero-feature3": "100% dane lokalne",
    "btn-download": "Pobierz dla macOS",
    "btn-github": "Zobacz na GitHub",
    "mockup-overlay": "Miejsce na zrzut ekranu aplikacji",
    "features-title": "Wszystko czego potrzebujesz do śledzenia sukcesów",
    "features-subtitle": "Proste, potężne funkcje, które pomagają zapamiętać i pokazać Twoją pracę",
    "feature1-title": "Automatyczne przypomnienia co godzinę",
    "feature1-text":
      'Delikatne przypomnienia co godzinę pytają "Nad czym pracujesz?" Szybka odpowiedź dzięki opcji "Tak samo jak wcześniej".',
    "feature1-preview": "Zrzut ekranu okna popup",
    "feature2-title": "Podsumowania napędzane AI",
    "feature2-text":
      "Cotygodniowe podsumowania AI analizują Twoją pracę i tworzą profesjonalne wyróżnienia idealne na spotkania i oceny.",
    "feature2-preview": "Karta cotygodniowego podsumowania",
    "feature3-title": "Lokalne i prywatne",
    "feature3-text":
      "Twoje dane pozostają na Twoim komputerze. Wysyłane do OpenRouter API tylko gdy poprosisz o podsumowanie.",
    "feature3-preview": "Diagram architektury prywatności",
    "feature4-title": "Zorganizowana historia",
    "feature4-text":
      "Zobacz wszystkie wpisy uporządkowane według dni. Edytuj, usuwaj lub przeszukuj historię pracy w każdej chwili.",
    "feature4-preview": "Zrzut ekranu widoku historii",
    "feature5-title": "Darmowe na zawsze",
    "feature5-text":
      "100% darmowe i open source. Bez subskrypcji, bez reklam, bez ukrytych kosztów. Licencja MIT.",
    "feature5-preview": "Odznaki open source",
    "feature6-title": "Dla każdego",
    "feature6-text":
      "Idealne dla programistów, projektantów, menedżerów, studentów i każdego, kto chce śledzić swoje postępy.",
    "feature6-preview": "Persony użytkowników",
    "how-title": "Prosty przepływ pracy, potężne wyniki",
    "how-subtitle": "Zacznij rejestrować swoją pracę w kilka minut",
    "step1-title": "Odpowiedz na popup",
    "step1-text":
      'Co godzinę małe okno popup pyta nad czym pracujesz. Wpisz zadanie lub kliknij "Tak samo jak wcześniej" aby kontynuować.',
    "step2-title": "Buduj swoją historię",
    "step2-text":
      "Wszystkie wpisy są automatycznie zapisywane i organizowane według dni w lokalnej bazie danych.",
    "step3-title": "Otrzymaj podsumowania AI",
    "step3-text":
      "Generuj cotygodniowe podsumowania, które wyróżniają Twoje kluczowe osiągnięcia i postępy.",
    "download-title": "Gotowy na śledzenie sukcesów?",
    "download-subtitle":
      "Pobierz MindReel dla macOS i zacznij budować historię swoich osiągnięć już dziś.",
    "btn-download-main": "Pobierz dla macOS",
    "download-info1": "macOS 10.15+",
    "download-info2": "Darmowe na zawsze",
    "download-info3": "Open source",
    "footer-text": "Twoja praca. Automatycznie udokumentowana.",
    "footer-copyright": "© 2025 MindReel. Oprogramowanie open source na licencji MIT.",
  },
};

let currentLang =
  localStorage.getItem("preferredLang") ||
  (navigator.language.toLowerCase().startsWith("pl") ? "pl" : "en");

function setLanguage(lang) {
  currentLang = lang;
  document.documentElement.lang = lang;

  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });

  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.toggle("active", btn.dataset.lang === lang);
  });

  localStorage.setItem("preferredLang", lang);
}

document.addEventListener("DOMContentLoaded", () => {
  setLanguage(currentLang);

  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => setLanguage(btn.dataset.lang));
  });
});

function switchLanguage(lang) {
  currentLang = lang;
  localStorage.setItem("mindreel-lang", lang);
  updateContent();
}

document.addEventListener("DOMContentLoaded", () => {
  updateContent();

  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => switchLanguage(btn.dataset.lang));
  });
});
